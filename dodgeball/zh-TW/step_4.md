## 重力和跳躍

讓我們通過新增重力並使他們跳躍來讓你的角色移動得更加真實。



+ 你可能注意到了，你的角色可走下平臺並進入半空中。試著走下平臺，看看會發生什麼。

	![screenshot](images/dodge-no-gravity.png)

+ 為解決這個問題，我們要向你的遊戲新增重力。建立一個被稱作 `重力`{:class="blockdata"}的新變數。如果你願意，你可以在工作區中隱藏此變數。

	![screenshot](images/dodge-gravity.png)

+ 新增這個新的程式碼塊，將重力設為負值，然後使用其來反覆更改你角色的 y 座標。

	```blocks
		點選綠旗時
    變數 [gravity v] 設為 [-4]
    重複無限次 
      y 改變 (gravity)
    end
	```

+ 點選旗幟，然後將你的角色拖到工作區頂部。發生了什麼？重力是否按預期發揮作用？

	![screenshot](images/dodge-gravity-drag.png)

+ 重力不應該使你的角色穿過平臺或梯子！向你的程式碼新增一個 `如果`{:class="blockcontrol"}程式碼塊，使重力僅在你的角色處於半空時生效。重力程式碼現在應如下所示：

	```blocks
		點選綠旗時
    變數 [gravity v] 設為 [-4]
    重複無限次 
      如果 <<<碰到顏色 [#0000FF] ?> 或 <碰到顏色 [#FF69B4] ?>> 不成立> 那麼 
        y 改變 (gravity)
      end
    end
	```

+ 再次測試重力。你的角色在處於平臺或梯子上時是否停止移動？你能否走下平臺邊緣到達下方的平面？

	![screenshot](images/dodge-gravity-test.png)

+ 此外，讓我們使你的角色在玩家按下空格鍵時能跳躍。要做到這一點，一個非常簡單的方法是使用以下程式碼，使你的角色多次上移：

	```blocks
		當 [空格 v] 鍵被按下
    重複 (10) 次 
      y 改變 (4)
    end
	```

	由於重力不斷將你的角色向下推移 4 個畫素，你需要在你的 `將 y 座標增加 (4)`{:class="blockmotion"}程式碼塊中選擇一個大於 4 的數字。不斷改變這個數字，直至你對角色跳躍的高度感到滿意。

+ 如果你測試此程式碼，你會注意到程式碼起作用了，但移動不是十分流暢。為使跳躍看起來更流暢，你需要使你角色移動的幅度越來越小，直至它們不再跳躍。

+ 為此，建立另一個名為 `跳躍高度`{:class="blockdata"}的變數。如果你願意的話，你也可以隱藏該變數。

+ 刪除你向角色新增的跳躍程式碼，並替換為下列程式碼：

	```blocks
		當 [空格 v] 鍵被按下
    變數 [jump height v] 設為 [8]
    重複直到 <(jump height) = [0]> 
      y 改變 (jump height)
      變數 [jump height v] 改變 (-0.5)
    end
	```

	此程式碼使你的角色上移 8 個畫素，然後 7.5 個畫素，再然後 7 個畫素，以此類推，直至你的角色完成跳躍。這使跳躍看起來更加流暢。

+ 更改 `跳躍高度`{:class="blockdata"}變數的初始值並對其進行測試，直至你對角色跳躍的高度感到滿意。



